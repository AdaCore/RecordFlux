package Message_Size is

   type T is mod 2 ** 8;

   type M is
      message
         A : T;
         B : Opaque
            with Size => A * 8
            then null
               if Message'Size = (A + 1) * 8
            then C
               if Message'Size = (A + 2) * 8;
         C : T;
      end message;

end Message_Size;
